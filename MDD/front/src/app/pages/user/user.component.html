<div class="header">
  <img src="assets/logo_p6.png" class="headerImage">
  <div class="header-buttons">
    <button class="menu-button" (click)="toggleMenu()">&#9776;</button>
    <!-- Boutons du menu pour la version responsive (masqués en desktop) -->
    <a routerLink="/home" routerLinkActive="active" class="feed-link hidden-desktop">Articles</a>
    <a routerLink="/subject" class="subject-link hidden-desktop">Thèmes</a>
  </div>
</div>
<hr class="separator">

<div class="user-container" *ngIf="user">
  <h2>Profil de l'utilisateur</h2>
  <div class="user-edit-form">
    <form (ngSubmit)="updateUser()">
      <div class="form-group">
        <label for="firstName">Prénom</label>
        <input type="text" id="firstName" [(ngModel)]="updateUserRequest.firstName" name="firstName" required>
      </div>
      <div class="form-group">
        <label for="lastName">Nom</label>
        <input type="text" id="lastName" [(ngModel)]="updateUserRequest.lastName" name="lastName" required>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" [(ngModel)]="updateUserRequest.email" name="email" required>
      </div>
      <div class="form-group">
        <label for="password">Mot de passe</label>
        <input type="password" id="password" [(ngModel)]="updateUserRequest.password" name="password" required>
      </div>

      <button class="SaveButton" type="submit">Sauvegarder</button>
    </form>
    <a href="#" (click)="logout()" class="logout-link">Déconnexion</a>
  </div>
  <hr class="separator">
  <div class="subscriptions-container">
    <div class="section-header">
      <h2>Mes Abonnements</h2>
    </div>
    <ul class="subscriptions">
      <li *ngFor="let subscription of subscriptions">
        <span class="subscription-name">{{ subscription.name }}</span>
        <div class="subject-description">
          <p>{{ subscription.description }}</p>
        </div>
        <button class="unsubscribe-button" (click)="unsubscribeUser(subscription.id)">Se désabonner</button>
      </li>
    </ul>
  </div>
</div>


<!-- Menu en transition pour les versions mobiles -->
<div class="mobile-menu" [class.open]="isMenuOpen">
  <a routerLink="/home" (click)="toggleMenu()">Articles</a>
  <a routerLink="/subject" (click)="toggleMenu()">Thèmes</a>
  <button (click)="goToUserPage()" class="user-button-menu">
    <img src="assets/user.png" class="headerImage">
  </button>
</div>
